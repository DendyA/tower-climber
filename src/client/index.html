<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tower Climber</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="client.css" media="screen"/>
    <style>
        * {
            font-family: 'Roboto', sans-serif;
        }
    </style>
</head>
<body class="centeringBodyElements">
    <a href="help.html" class="helpButton">How To Play</a>
    <h1 style="margin-bottom:1px;">Tower Climber</h1>
    <h2 style="margin-top: 1px;">A Game By Triple N Studios</h2>
    <div class="roomDiv">
        <img src="assets/BasePack/Player/p1_front.png" alt="Player">
        <div class="roomNameDiv">Room 1</div>
        <div class="statusContainer">
            <div id="playerCount" class="numOfPlayersDiv">1 Player in this room</div>
            <a href="game.html" class="joinGameButton">Join Room</a>
        </div>
    </div>
</body>
<script>
    let xhttp = new XMLHttpRequest();

    xhttp.onreadystatechange = function() {
        if(this.readyState === 4 && this.status === 200) {
            let responseObject = JSON.parse(this.response);
            let formattedString = responseObject.current + "/" + responseObject.total + " players";
            document.getElementById("playerCount").innerText = formattedString;
        }
    };
    xhttp.open("GET", "/playerCount?room=1", false);
    xhttp.send();
</script>
</html>
